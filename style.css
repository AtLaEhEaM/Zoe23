/* Clean and refactored stylesheet */
:root {
  --navy: #45271F;
  --dark-violet: #45271F;
  --navy-dark: #2f170f; /* darker shade for navbar gradients */
  --epic-purple: #604331; /* purple used for epic cards */
  --further-section-bg: #3b1f14; /* darker brown for further sections */
  --further-section-text: #ffffff;
  --site-bg: #363024; /* overall site background */
  --about-bg: #604331; /* about and TOS panels */
  --dos-bg: #625A3F;
  --donts-bg: #793A2E;
  --text-light: #ffffff;
  --text-dark: #2b241f;
  --violet-golden-brown: #8b5e3c;
  --dark-autumn-gold: #c97b00;
  --light-golden-brown: #ffd27a;
  --golden-yellow: #ffd200;
  --card-scale: 0.70; /* scale factor for commission cards (smaller default) */
  --nav-height: 84px;
  --content-max: 1100px;
}

/* Reset and base styles */
* {
  box-sizing: border-box;
}
html, body {
  height: 100%;
  margin: 0;
  font-family: 'Saira', sans-serif;
  color: var(--text-dark);
  background: var(--site-bg);
  -webkit-font-smoothing: antialiased;
}

/* Smooth scrolling for navbar anchors */
html {
  scroll-behavior: smooth;
}

/* Navbar */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--nav-height);
  /* navy base with a slight darken at the bottom for depth */
  background: linear-gradient(180deg, var(--navy) 0%, var(--navy-dark) 100%);
  border-bottom: 1px solid rgba(0,0,0,0.25);
  /* stronger drop shadow and a soft inset for a subtle 3D feel */
  box-shadow: 0 8px 22px rgba(7,20,40,0.45), inset 0 -4px 10px rgba(255,255,255,0.02);
  z-index: 1000;
  display: flex;
  align-items: center;
  transition: transform 0.3s ease-in-out;
  will-change: transform;
}

/* a small sheen at the bottom edge to emphasize depth */
.navbar::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -4px;
  height: 6px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0));
  pointer-events: none;
  z-index: 999;
}
.navbar.nav-hidden {
  transform: translateY(-100%);
}
.nav-inner {
  width: 100%;
  max-width: var(--content-max);
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.25rem;
  height: 100%;
}
.nav-brand {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--text-light);
  text-decoration: none;
  font-weight: 800;
  font-size: 1.15rem;
}
.nav-brand img {
  height: 40px;
  width: auto;
}
.nav-toggle {
  display: inline-flex;
  flex-direction: column;
  gap: 6px;
  background: transparent;
  border: 0;
  padding: 8px;
  cursor: pointer;
}
.nav-toggle .bar {
  width: 26px;
  height: 3px;
  background: var(--light-golden-brown);
  border-radius: 2px;
}
.nav-menu {
  display: none;
}
.nav-menu ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 1rem;
  align-items: center;
}
.nav-menu a {
  color: var(--text-light);
  text-decoration: none;
  padding: 0.45rem 0.8rem;
  font-weight: 600;
}
.nav-menu a:hover {
  color: var(--dark-autumn-gold);
}
.nav-menu .contact-link {
  background: none !important;
  color: var(--text-light) !important;
  box-shadow: none !important;
  padding: 0.45rem 0.8rem !important;
  border-radius: 0;
  text-decoration: none;
  font-weight: 600;
}

/* Mobile menu */
.navbar.open .nav-menu {
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  top: var(--nav-height);
  background: linear-gradient(180deg, var(--navy) 0%, var(--navy-dark) 100%);
  padding: 0.8rem 1rem;
}
.navbar.open .nav-menu ul {
  flex-direction: column;
  gap: 0.5rem;
}
@media (min-width: 900px) {
  .nav-toggle {
    display: none;
  }
  .nav-menu {
    display: block;
    position: static;
    background: transparent;
    padding: 0;
  }
  .nav-menu ul {
    flex-direction: row;
  }
}

/* Sections */
.site-section {
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 1rem;
}
/* ensure anchor targets are offset below the fixed navbar */
.site-section {
  scroll-margin-top: calc(var(--nav-height) + 12px);
}
.section-1 {
  background: url('drive-download-20251206T112437Z-1-001/header.jpg') no-repeat center center/cover;
  min-height: 100vh;
  padding-top: calc(var(--nav-height) + 1.25rem);
  display: flex;
  align-items: center;
  justify-content: center;
}
/* Home content colors moved from inline styles to CSS */
.section-1 .content h1,
.section-1 .content p {
  color: var(--text-light);
}
.section-2 {
  background: var(--dark-violet);
  min-height: 40vh;
  display: flex;
  flex-direction: column;
  gap: 2rem;
  padding: 2rem;
}
.section-2 .about-me {
  /* Match the Terms of Service background and show a boxed card */
  background: var(--about-bg);
  padding: 1.5rem;
  border-radius: 8px;
  color: var(--text-light) !important;
  border: 3px solid rgba(0,0,0,0.2);
  box-shadow: 0 10px 30px rgba(0,0,0,0.28);
}
.section-2 .dos-donts {
  display: flex;
  gap: 1rem;
}
.section-2 .dos {
  background: var(--dos-bg);
  padding: 1rem;
  border-radius: 8px;
  flex: 1;
  color: var(--text-light) !important;
  border: 3px solid rgba(0,0,0,0.18);
  box-shadow: 0 10px 30px rgba(0,0,0,0.18);
}
.section-2 .donts {
  background: var(--donts-bg);
  padding: 1rem;
  border-radius: 8px;
  flex: 1;
  color: var(--text-light) !important;
  border: 3px solid rgba(0,0,0,0.18);
  box-shadow: 0 10px 30px rgba(0,0,0,0.18);
}
.section-2 .terms {
  background: var(--about-bg);
  padding: 1.5rem;
  border-radius: 8px;
  color: var(--text-light) !important;
  border: 3px solid rgba(0,0,0,0.2);
  box-shadow: 0 10px 30px rgba(0,0,0,0.28);
}
.section-3 {
  display: flex;
  flex-direction: column;
  padding: 0;
  height: 100%;
}
.section-3 .part-1 {
  background: var(--dark-violet);
  height: 30%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.section-3 .part-2 {
  background: var(--navy);
  height: 60%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.section-3 .part-3 {
  background: var(--dark-violet);
  height: 30%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.section-3 .cards-container {
  display: grid;
  /* Force three cards per row on wider screens */
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  align-items: stretch;
}

/* Make a grouped row of cards span the full width and use wider columns
   so the last three cards can appear significantly wider than the others. */
.section-3 .cards-container > .card-row-large {
  grid-column: 1 / -1; /* span the full container */
  display: grid;
  grid-template-columns: repeat(3, 1.25fr); /* wider columns for emphasis */
  gap: 1.25rem;
  align-items: stretch;
}

/* Ensure cards inside the grouped row still use the global scale but
   avoid additional unexpected transforms */
.section-3 .card-row-large .card {
  transform: scale(var(--card-scale));
}

/* Responsive: 2 columns on medium screens, 1 column on small screens */
@media (max-width: 900px) {
  .section-3 .cards-container {
    grid-template-columns: repeat(2, 1fr);
  }
  .section-3 .cards-container > .card-row-large {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 576px) {
  .section-3 .cards-container {
    grid-template-columns: 1fr;
  }
  .section-3 .cards-container > .card-row-large {
    grid-template-columns: 1fr;
  }
}

/* Card base: container holds an inner panel so we can create outlines separately */
.section-3 .card {
  position: relative;
  display: flex;
  flex-direction: column;
  /* apply scaling to the whole card (includes .bg) so outlines stay aligned */
  /* start slightly lower and invisible, animate up into place */
  transform: scale(var(--card-scale)) translateY(10px);
  opacity: 0;
  animation: card-fade 480ms ease both;
  transform-origin: center center;
  transition: transform 180ms ease;
  /* ensure card has matching radius so .bg aligns with the inner panel */
  border-radius: 18px;
  overflow: visible;
}
.section-3 .card .card-inner {
  background: #f5f5f5;
  border-radius: 14px;
  /* leave extra space at the bottom so absolute positioned price/duration don't overlap content */
  padding: 1rem 1rem 3.25rem;
  overflow: hidden;
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  /* ensure the inner panel expands to fill the card height so all cards match */
  flex: 1 1 auto;
  /* z-index kept above .bg so content displays on top */
}
.section-3 .card img {
  width: 100%;
  height: auto; /* allow full image to display */
  object-fit: contain;
  border-radius: 6px;
  display: block;
}

/* Rotating image rotator used inside specific cards */
.rotator {
  position: relative;
  width: 100%;
  /* keep a consistent aspect ratio so cards don't jump — 4:3 */
  padding-top: 75%;
  overflow: hidden;
  border-radius: 6px;
}
.rotator img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transform: scale(1.02);
  animation: rotator-cycle 9s linear infinite;
}
.rotator img:nth-child(1) { animation-delay: 0s; }
.rotator img:nth-child(2) { animation-delay: 3s; }
.rotator img:nth-child(3) { animation-delay: 6s; }

@keyframes rotator-cycle {
  0% { opacity: 0; }
  5% { opacity: 1; }
  30% { opacity: 1; }
  35% { opacity: 0; }
  100% { opacity: 0; }
}

/* common cards: light gray background, darker outline */
.section-3 .card.common .card-inner {
  background: #f0f0f0;
  border: 3px solid #cfcfcf;
}

/* Ensure all text inside common cards is purple (override broad global rule) */
.section-3 .card.common .card-inner,
.section-3 .card.common .card-inner * {
  color: #45271F !important;
}

/* epic cards: colored panel with animated rainbow outline */
.section-3 .card.epic .card-inner {
  background: var(--epic-purple); /* epic color */
  color: #ffd200;
  border-radius: 14px;
  padding: 1.25rem;
  border: 3px solid rgba(0,0,0,0.08);
}
.section-3 .card.epic::before {
  /* kept for backwards compatibility but hidden when .bg is present */
  display: none;
}

/* If using .bg helper (from animatedbg.css) inside a card, ensure it sits behind the inner panel */
.section-3 .card > .bg {
  position: absolute;
  /* match inset used by animatedbg to keep the outline consistently offset */
  inset: -8px;
  border-radius: 18px;
  z-index: 0; /* sits behind .card-inner (which has z-index:2) */
  overflow: hidden;
}

.section-3 .card > .bg::before {
  /* gradient handled in animatedbg.css; keep this selector to ensure sizing */
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  will-change: transform;
}

.section-3 .card .title {
  font-size: 1.4rem;
  font-weight: 800;
}
.section-3 .card .description {
  font-size: 1.12rem;
  line-height: 1.3;
}
.section-3 .card .price,
.section-3 .card .duration {
  font-weight: 800;
  font-size: 1.05rem;
  position: absolute;
  bottom: 12px;
}
.section-3 .card .price {
  right: 12px;
}
.section-3 .card .duration {
  left: 12px;
}

.section-4 {
  background: var(--further-section-bg);
  min-height: 20vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2.5rem 1rem;
  color: var(--further-section-text);
}

.section-4 .contact-cta {
  max-width: 980px;
  width: 100%;
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-items: center;
}
.section-4 .contact-cta h2 {
  font-size: 1.6rem;
  font-weight: 800;
  margin: 0;
  color: var(--text-light);
}
.instagram-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.6rem;
  padding: 1.15rem 2rem;
  background: var(--epic-purple); /* CTA uses epic purple to stand out */
  color: var(--text-light); /* white text */
  /* enforce appearance even if other rules exist */
  background-color: var(--epic-purple) !important;
  color: var(--text-light) !important;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 700;
  box-shadow: 0 26px 60px rgba(69,39,31,0.30);
  border: 2px solid #45271F; /* purple border */
  transition: transform 160ms ease, box-shadow 160ms ease, filter 160ms ease;
  font-size: 1.12rem;
}
.instagram-btn svg { color: #ffffff; fill: #ffffff !important; }
.instagram-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 36px 84px rgba(69,39,31,0.36);
  filter: brightness(1.06);
}

@keyframes card-fade {
  from {
    opacity: 0;
    transform: scale(var(--card-scale)) translateY(10px);
  }
  to {
    opacity: 1;
    transform: scale(var(--card-scale)) translateY(0);
  }
}
.instagram-btn:hover {
  transform: translateY(-3px);
}

/* Make CTA button full-width on small screens for easier tapping */
@media (max-width: 576px) {
  .instagram-btn {
    width: 100%;
    justify-content: center;
    font-size: 1.05rem;
    padding: 0.95rem 1rem;
  }
}

/* Increase commission card height on small (phone) screens so content is easier to read/tap */
@media (max-width: 576px) {
  .section-3 .card {
    min-height: 560px; /* increased taller cards on phones */
    transform: scale(0.96); /* slightly larger scale for readability */
  }

  /* Ensure inner panel keeps spacing for price/duration */
  .section-3 .card .card-inner {
    padding: 1rem 1rem 4.5rem;
  }

  /* For grouped large row, keep cards stacked nicely */
  .section-3 .cards-container > .card-row-large {
    grid-template-columns: 1fr;
  }
}

/* Buttons */
.btn, button {
  background: var(--navy);
  color: var(--text-light);
  border: none;
  box-shadow: 0 6px 14px rgba(11, 43, 90, 0.28);
  padding: 0.5rem 1rem;
  border-radius: 6px;
}

/* Accessibility */
.nav-menu a:focus, .nav-menu a:active, .nav-menu .contact-link:focus {
  outline: 2px solid rgba(255, 210, 0, 0.25);
  outline-offset: 2px;
}

/* Responsive adjustments */
@media (max-width: 576px) {
  :root {
    --nav-height: 64px;
  }
  .section-1 {
    padding-top: calc(var(--nav-height) + 1rem);
    min-height: 40vh;
  }
  .section-2 {
    min-height: 30vh;
  }
}

/* Mobile: stack the 'dos' and 'donts' vertically for readability */
@media (max-width: 576px) {
  .section-2 .dos-donts {
    flex-direction: column;
    gap: 0.8rem;
  }
  .section-2 .dos,
  .section-2 .donts {
    width: 100%;
  }
}

/* Ensure navbar hides on scroll */
.navbar {
  transition: transform 0.3s ease-in-out;
  will-change: transform;
}
.navbar.nav-hidden {
  transform: translateY(-100%);
}

/* Reset forced golden-yellow — use readable defaults */
body {
  color: var(--text-dark);
}
.nav-brand, .nav-menu a {
  color: var(--text-light);
}
/* Default section text is dark (for light panels). Explicitly mark dark sections to use light text */
.site-section {
  color: var(--text-dark);
}
.section-1,
.section-3 .part-2,
.section-4,
.section-2 .about-me,
.section-2 .dos,
.section-2 .donts,
.section-2 .terms {
  color: var(--text-light) !important;
}

/* Adjust content positioning for desktop view */
@media (min-width: 900px) {
  .section-1 .content {
    margin-top: 2rem; /* Move content down slightly on desktop view */
  }
}

/* Change text color of the home section content to match the purple background */
.section-1 .content {
  color: var(--dark-violet) !important;
}

/* Fade-up animation used for section-2 items */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Initial (hidden) state for animated section-2 blocks */
.section-2 .about-me,
.section-2 .dos,
.section-2 .donts,
.section-2 .terms {
  opacity: 0;
  transform: translateY(20px);
  will-change: opacity, transform;
}

/* When element has .in-view the animation runs; removing the class allows replay on re-entry */
.in-view {
  animation: fadeUp 0.8s ease forwards;
}